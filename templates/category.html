{% extends 'base2.html' %}
{% block content %}

<div  class="topmenu">
	<a class="btn btn-light text-danger p-1 " href="/room">
		<i class="fa fa-home" style="font-size:3em"></i>
	</a> 
	<a class="btn btn-light ml-3 topmenu-room" href="/table">
		<div class="h2 text-primary topmenu-room-span" id="roomname" style="line-height:25px">UMUMIY</div>
	</a> 
	<a class="btn btn-light  p-1 ml-3"  href="/category">
		<span class="h2 text-primary" style="height: 34px; display: inline-block; font-size: 1.7em;  margin-top: 6px;">â„–13</span>
	</a> 
</div>
<div class="container row p-0 pl-2 mb-2 m-auto">
<label class="col-3 btn btn-danger" style="padding:6.8px; border-radius: 5px 0 0 5px; z-index: 2;" for="searfilter" onclick="searchactive()">
	<i class="fa fa-search" id="searchorfilter"></i>
</label>
	<input id="searfilter" placeholder="Qidirish" type="search" class="btn border" style="display: none; background-color: white; position:absolute; left: 24%; z-index: 1; text-align: left; width: 74%;" onkeyup="searchFunction()" onmousemove="searchFunction()">
	<button id="searchreset" type="button" class="btn btn-danger" style="position:absolute; right:0px; transform:scale(1.01); z-index: 1" onclick="filterFunction(''); document.getElementById('searfilter').value='';"><i class="fa fa-close"></i></button>
<div class="dropdown col-8 p-0">
  <button class="btn btn-light dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"  style="width: 100%; border-radius: 0 5px 5px 0; font-weight: 800; color:var(--danger); text-align:left">
    <i class="fa fa-filter"></i><span id="catname" > Kategoriya</span>
  <button id="filterreset" type="button" class="btn btn-danger" style="position:absolute; right:-15px; transform:scale(1.01);" onclick="filterFunction('');"><i class="fa fa-close"></i></button>
  </button>
  <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
    <a class="dropdown-item" onclick="filterFunction('FastFoot')"><img src="/static/img/hotdog.png" style="width:25px; height:25px"> FastFoot</a>
    <a class="dropdown-item" onclick="filterFunction('Birnarsa')"><img src="/static/img/hotdog.png" style="width:25px; height:25px"> Ovqatlar</a>
    <a class="dropdown-item" onclick="filterFunction('FastFoot')"><img src="/static/img/hotdog.png" style="width:25px; height:25px"> Ichimliklar</a>
    <a class="dropdown-item" onclick="filterFunction('FastFoot')"><img src="/static/img/hotdog.png" style="width:25px; height:25px"> Shirinliklar</a>
  </div>
</div>
</div>
<main style="overflow-y: auto; height:70%">

	<div class="container">
		<div class="row" id="filtercontent">
			<!-- for -->
			<div class="col-11 col-md-5 cardproduct card m-auto shadow text-white bg-white row" style="margin-bottom: 15px!important;" catename="FastFoot">
				<div class="col-3 p-0">
					<img src="/static/img/hotdog.png" style="width: 70px; height: 70px; margin-top:15px">
				</div>
				<div class="text-primary mt-3 col-7 h4 font-weight-bold text-left ml-2 filtercontentclass" style="line-height: 27px; padding: 0">
					HotDog katassi
				</div>
				<div class="text-primary col-3 h4 font-weight-bold text-left" style="line-height: 30px; transform: scale(0.8) translateY(-15px);">
					<div class="addandsubt btn btn-success" onclick="adding('{{ i.id }}')"><span>+</span></div> 
					<input class="limit  border " type="number" name="{{ i.id }}"  min="0" id="{{ i.id }}">

					<div class="addandsubt btn btn-danger" onclick="subt('{{ i.id }}')"><span> -</span></div>
				</div>
				<span style="position:absolute; right: 15%; bottom: 5px; font-weight:700" class="text-danger">24000so`m</span>
			</div>
			<!-- EndFor -->
		</div>
	</div>

</main>
<div style="position:absolute; right: 5%; bottom: 80px; border-radius: 50%; background:white; color: #075295; width:50px; height:50px; padding:10px; box-shadow: 0px 0px 8px 2px #000000aa">
	<i class='fa fa-commenting' style="font-size:2em"></i>
</div>
<div class="menu-food">
	<a href="/table" class="left"><i class="fa fa-arrow-left" aria-hidden="true"></i></a>
	<span  class="centered" id="centered"></span>
	
	<a href="#" style="float: right;"><span class="h4 font-weight-bold text-danger">120000so`m</span><i class="fa fa-check" aria-hidden="true"></i>	</a>

</div>
<script type="text/javascript">
	var vr = document.getElementById("roomname");
	console.log(vr.innerHTML.length);
	if (vr.innerHTML.length<=7){
		vr.style.lineHeight = "45px"
		vr.style.fontSize = "25px";
	}
	else{
	vr.style.fontSize = "25px";
		}
</script>
<script type="text/javascript">
	function delay(time) {
  		return new Promise(resolve => setTimeout(resolve, time));
	}


function changer(){
	document.getElementById("centered").style.width = "0px";
	document.getElementById("centered").style.boxShadow = "0";
	document.getElementById("centered").style.marginLeft = "5px";
}

delay(100).then(() => changer());
</script>



<script>
	document.getElementById("filterreset").style.display = "none";
function filterFunction(strf) {
	if (strf!=""){


  var input, filter, table, tr, td, i, txtValue;
  /*input = document.getElementById("myInput");
  filter = input.value.toUpperCase();*/
  strf = strf.toUpperCase();
  table = document.getElementById("filtercontent");
  tr = table.getElementsByClassName("cardproduct");
  for (i = 0; i < tr.length; i++) {
    td = tr;
    if (td) {
      txtValue = td[i].getAttribute("catename");
      if (txtValue.toUpperCase().indexOf(strf) > -1) {
        tr[i].style.display = "";
      } else {
        tr[i].style.display = "none";
      }
    }       
  }
  document.getElementById("filterreset").style.display = "";
  document.getElementById("catname").innerHTML =" "+strf;
}
else{
	table = document.getElementById("filtercontent");
  tr = table.getElementsByClassName("cardproduct");
  for (i = 0; i < tr.length; i++) {
    td = tr;
    if (td) {
      txtValue = td[i].getAttribute("catename");
      if (txtValue.toUpperCase().indexOf(strf) > -1) {
        tr[i].style.display = "";
      } else {
        tr[i].style.display = "";
      }
    }       
  }
  document.getElementById("filterreset").style.display = "none";
  document.getElementById("catname").innerHTML =" Kategoriya";
}
}

var activen = 0;
function searchactive(){
	activen+=1;
	if (activen%2==1){
	document.getElementById("searfilter").style.display = "block";
	document.getElementById("searchorfilter").className = "fa fa-filter";
	filterFunction("");
	}
	else {
	document.getElementById("searfilter").style.display = "none";
	document.getElementById("searchorfilter").className = "fa fa-search";
	filterFunction("");
	  document.getElementById("searchreset").style.display = "none"
	}
}


</script>


<script>

  document.getElementById("searchreset").style.display = "none"
function searchFunction() {
  var input, filter, table, tr, td, i, txtValue;
  input = document.getElementById("searfilter");
  filter = input.value.toUpperCase();
  table = document.getElementById("filtercontent");
  tr = table.getElementsByClassName("cardproduct");
  for (i = 0; i < tr.length; i++) {
    td = tr[i];
     console.log(td);
    if (td) {
      txtValue = td.innerText;
      if (txtValue.toUpperCase().indexOf(filter) > -1) {
        tr[i].style.display = "";
      } else {
        tr[i].style.display = "none";
      }
    }       
  }
  document.getElementById("searchreset").style.display = "block"
}
</script>

<script type="text/javascript">
	function adding(aer) {
		document.getElementById(aer).value-=-1;
	}
	function subt(aer) {
		if (document.getElementById(aer).value-1>0) {
				document.getElementById(aer).value-=1;}
				else{
					document.getElementById(aer).value="";
				}
	}
</script>


{% endblock %}